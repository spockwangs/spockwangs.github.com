---
layout: post
title: 在Windows上配置Emacs 23
tags:
- Administration
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _edit_lock: '1328193959'
  _pingme: '1'
  _encloseme: '1'
  _wp_old_slug: ''
  views: '2'
---
<h2>
	Emacs的配置文件
</h2>
<p>
	在Windows下，Emacs的配置文件存放在被Emacs称为HOME的目录下。默认情况下该目录是C:/Users/&lt;login name&gt;/AppData/Roaming/（Windows 7）。这个目录可以通过环境变量HOME来设置。
</p>
<h2>
	启用Emacs的服务器模式
</h2>
<p>
	Emacs有一个服务器模式，就是先启动Emacs服务器，然后每当编辑文件时启动Emacs客户端。这个客户端会与这个服务器联系，让其来完成各种编辑命令。这样就不用重新再启动另一个Emacs实例来编辑文件，不管编辑多少个文件都只要一个Emacs实例（即进程）就可以了。
</p>
<p>
	为了达到这个目的，需要做以下几步设置：
</p>
<ol>
	<li>
		在~/.emacs中加入<br />
		(server-start)<br />
		这样Emacs第一次启动时会启动服务器。
	</li>
	<li>
		设置环境变量EMACS_SERVER_FILE为“%HOME%/.emacs.d/server/server”。这是Emacs客户端与服务器用来通信的。每当服务器启动时都会建立这个文件，退出时删除这个文件。这个环境变量告诉Emacs客户端服务器建立的文件在哪里。
	</li>
</ol>
<h2>
	将Emacs加入右键菜单
</h2>
<p>
	将Emacs加入资源管理器的右键菜单可以大大方便用Emacs编辑文件。而这个可以通过编辑注册表来实现。
</p>
<p>
	在DOS命令行中用regedit命令打开注册表编辑器。在“HKEY_CLASSES_ROOT/*/Shell”下新建一名为“Edit with Emacs”（可自由命名）的项，然后在这个项下再建一个名叫“command”（必须如此命名）的项，将其值设为“&lt;emacs-install-dir&gt;/bin/emacsclientw.exe -a &lt;emacs-install-dir&gt;/bin/runemacs.exe -n %1”。这样就可以了。其中&lt;emacs-install-dir&gt;表示Emacs的安装目录。emacsclientw.exe是Emacs客户端，-a和-n都是它的选项参数，可通过emacsclientw.exe –help查看。-a表示若Emacs服务器没有启动则启动该选项的值所表示的编辑器。
</p>
<p>
	&nbsp;
</p>
