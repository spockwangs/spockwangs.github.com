<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/stylesheets/base.css" />
    <link rel="stylesheet" href="/stylesheets/screen.css" media="screen" />
    <title>Java Gotchas</title>
  </head>
  <body>
    <header id="header">
      <h1 id="title"><a href="/">Spockwang's Thoughts</a></h1>
    </header>

    <nav id="nav">
      <ul id="menus-wrap">
        <li class="menu first"><a href="/">Archives</a></li>
        <li class="menu"><a href="/about.html">About</a></li>
      </ul>
    </nav>

    <div id="main" class="col-wrapper">
      <div id="content-wrapper" class="col-3-4">
        <div id="content">
          <article id="article">
  <header>
    <h1 class="title">Java Gotchas</h1>
    <div class="meta grid">
      
      <li class="thetag"><a href="/tags/Programming" title='Posts tagged"Programming"'>Programming</a></li>
      
      <li class="meta-date right">2012-05-13</li>
    </div>
  </header>
  <div id="toc-wrapper" class="is-invisible">
    <div class="toc-header">Table of Contents</div>
    <div id="toc">
    </div>
  </div>
  <div id="article-content" class="content">
    <h2>Primitive types, Operators, and Conversions</h2>

<p><code>==</code> tests object identity (whether the variable references the
same object), not content identity (consider <code>equals()</code>
instead).</p>

<p>Assignment semantics in Java: copy reference for object variables(cf clone), and copy value for basic types.</p>

<p><code>&gt;&gt;</code> do arithmetic right shift (shift in 0 for unsigned types
and 1 for signed types), while <code>&gt;&gt;&gt;</code> do logical right shift
(always shift in 0 regardless of sign).</p>

<p>Java command line args (<code>String[]</code> args in main) do not take
into account the name of the program, i.e. "java prog arg1 arg2" has 2
arguments (arg1 and arg2), it does not count prog.</p>

<p>In Java all number types are signed except char.</p>

<p>No conversions between boolean and any other type are applied.</p>

<p>All narrower than int types are converted to int before doing arithmetic,
so byte b = 0xFF; b >>> 1 may not be what you want.</p>

<p>Watch out for autobox and unbox, i.e. conversions between basic types and
their wrapper types.  Sometimes it does not work.  For example, what does
this print?</p>

<pre><code>public class box {
    public static void main(String[] args)  throws IOException  {
        cmp(new Integer(42), new Integer(42));
    }

    static void cmp(Integer first, Integer second)  {
        if (first &lt; second)
            System.out.printf("%d &lt; %d\n", first, second);
        else if (first == second)
            System.out.printf("%d == %d\n", first, second);
        else if (first &gt; second)
            System.out.printf("%d &gt; %d\n", first, second);
    }
}
</code></pre>

<h2>Class</h2>

<p>You can not override the same method of base class with a weaker access
privilege.  For example, you can not override a public method with a
protected method.  This is different from C++.</p>

<p>Due to reference assignment semantics in Java, there is no built-in
mechanisms to do copy (to get a duplicate object exactly the same as the
original one).  There are two methods to achieve this: override the clone
method publicly or provide a copy constructor (or a static factory).  See
item 10 of "Effective Java".</p>

<p>An inner class (non-static class declared in another class, which is called
its enclosing class) can access any member of its enclosing class.  And its
enclosing class can also access any member of its inner class.</p>

<p>In Java a method of a class can overload with the method of its super class
with the same name.  To the contrary in C++ this situation is not called
overloading because the two methods are not declared in the same scope.</p>

  </div>
  <footer class="footer">
    
    <div class="footer-previous">
      <a href="/2012/05/13/cgotchas.html" title="Previous post: C gotchas">«C gotchas</a>
    </div>
    
    
    <div class="footer-next">
      <a href="/2012/05/14/c-gotchas.html" title="Next post: C++ Gotchas">C++ Gotchas»</a>
    </div>
    
  </footer>
</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'judewang'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        </div>
      </div>
      <div id="sidebar" class="col-1-4">
        <div class="tag-wrapper">
          <h1>Tags</h1>
          <ul class="tag-list">
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Programming/" title='Posts tagged "Programming"'>Programming</a></span>&nbsp;x&nbsp;18</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/quote/" title='Posts tagged "quote"'>quote</a></span>&nbsp;x&nbsp;2</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Administration/" title='Posts tagged "Administration"'>Administration</a></span>&nbsp;x&nbsp;5</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/programming/" title='Posts tagged "programming"'>programming</a></span>&nbsp;x&nbsp;2</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Network/" title='Posts tagged "Network"'>Network</a></span>&nbsp;x&nbsp;3</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/css/" title='Posts tagged "css"'>css</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/mysql/" title='Posts tagged "mysql"'>mysql</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/character set/" title='Posts tagged "character set"'>character set</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/object-oriented/" title='Posts tagged "object-oriented"'>object-oriented</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/concurrency/" title='Posts tagged "concurrency"'>concurrency</a></span>&nbsp;x&nbsp;1</li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer id="footer">
      <p class="copyright">Copyright&nbsp;&copy;&nbsp2013 - judewang - Powered by jekyll</p>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="/javascripts/generate_toc.js"></script>
    <script src="//google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script type="text/javascript">
      <!-- Add Google prettify support. -->
      $(function () {
          $("pre > code").addClass("prettyprint");
      });
      </script>
    </div>
  </body>
</html>
