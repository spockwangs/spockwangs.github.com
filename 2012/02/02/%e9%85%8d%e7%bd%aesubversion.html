<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/stylesheets/base.css" />
    <link rel="stylesheet" href="/stylesheets/screen.css" media="screen" />
    <title>配置Subversion</title>
  </head>
  <body>
    <header id="header">
      <h1 id="title"><a href="/">Spockwang's Thoughts</a></h1>
    </header>

    <nav id="nav">
      <ul id="menus-wrap">
        <li class="menu first"><a href="/">Archives</a></li>
        <li class="menu"><a href="/about.html">About</a></li>
      </ul>
    </nav>

    <div id="main" class="col-wrapper">
      <div id="content-wrapper" class="col-3-4">
        <div id="content">
          <article id="article">
  <header>
    <h1 class="title">配置Subversion</h1>
    <div class="meta grid">
      
      <li class="thetag"><a href="/tags/Administration" title='Posts tagged"Administration"'>Administration</a></li>
      
      <li class="meta-date right">2012-02-02</li>
    </div>
  </header>
  <div id="toc-wrapper" class="is-invisible">
    <div class="toc-header">Table of Contents</div>
    <div id="toc">
    </div>
  </div>
  <div id="article-content" class="content">
    <h2>
	配置Subversion服务器使用xinetd启动
</h2>
<ol>
	<li>
		建立/etc/xinetd.d/svn，内容如下：
	</li>
	<pre class="border">service svn
{
    disable = no
    id = svn-stream
    socket_type = stream
    protocol = tcp
    user = xxx   # 运行svnserve的用户名
    wait = no
    server = /usr/bin/svnserve
    server_args = -i -r /path/to/repository
}

service svn
{
    disable = no
    id = svn-dgram
    socket_type = dgram
    protocol = udp
    user = xxx   # 运行svnserve的用户名
    wait = yes
    server = /usr/bin/svnserve
    server_args = -i -r /path/to/repository
}</pre>
	<li>
		重启xinetd服务器。
	</li>
	<pre class="border">$ sudo invoke-rc.d xinetd restart
</pre>
	接下来我们就可以采用svn协议访版本库中的数据了。
</ol>
<h2>
	建立SVN仓库
</h2>
<ol>
	<li>
		确定仓库的地址，假设为<code>/home/svn</code>.
	</li>
	<li>
		创建一个仓库，名为<code>repos</code>:
		<pre class="indent">$ svnadmin create /home/svn/repos
</pre>
	</li>
	<li>
		配置仓库访问控制。编辑<code>/home/svn/repos/conf/svnserve</code>：
		<pre class="border">[general]
# ...
anon-access = read
auth-access = write
# ...
password-db = passwd
...
</pre>
		在<code>[general]</code>下有几个属性控制访问权限。<code>anon-access</code>控制匿名用户的访问权限，<code>auth-access</code>控制授权用户的访问权限，它们可以为<code>&quot;read&quot;, &quot;write&quot;, &quot;none&quot;</code>。权限控制有几种方式，最简单的一种是通过密码文件来授权。密码文件的位置由<code>password-db</code>指定,一般就放在与<code>svnserve</code>同一目录下，叫<code>passwd</code>，格式如下：
		<pre class="border">name = password</pre>
		等号左边是用户名，右边是密码。如果不允许匿名操作，则需要输入密码。
	</li>
	<li>
		导入需要版本控制的数据。假设数据在<code>tree</code>目录下，要导入到刚刚建立的仓库中：
		<pre class="border">$ svn import tree svn://svnhost/repos/project
</pre>
	</li>
</ol>
<hr />
<p>
	<em>Updated: 2011-03-04 15:55</em>
</p>

  </div>
  <footer class="footer">
    
    <div class="footer-previous">
      <a href="/2012/02/02/%25e7%2594%259f%25e6%2588%2590%25e5%258f%25af%25e6%2589%25a7%25e8%25a1%258c%25e7%259a%2584%25e5%2585%25b1%25e4%25ba%25ab%25e5%25ba%2593.html" title="Previous post: 生成可执行的共享库">«生成可执行的共享库</a>
    </div>
    
    
    <div class="footer-next">
      <a href="/2012/02/03/%25e6%2589%2593%25e5%258d%25b0%25e8%259e%25ba%25e6%2597%258b%25e7%259f%25a9%25e9%2598%25b5.html" title="Next post: 打印螺旋矩阵">打印螺旋矩阵»</a>
    </div>
    
  </footer>
</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'judewang'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        </div>
      </div>
      <div id="sidebar" class="col-1-4">
        <div class="tag-wrapper">
          <h1>Tags</h1>
          <ul class="tag-list">
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Programming/" title='Posts tagged "Programming"'>Programming</a></span>&nbsp;x&nbsp;19</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/名言警句/" title='Posts tagged "名言警句"'>名言警句</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Administration/" title='Posts tagged "Administration"'>Administration</a></span>&nbsp;x&nbsp;5</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/programming/" title='Posts tagged "programming"'>programming</a></span>&nbsp;x&nbsp;2</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/quote/" title='Posts tagged "quote"'>quote</a></span>&nbsp;x&nbsp;2</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Network/" title='Posts tagged "Network"'>Network</a></span>&nbsp;x&nbsp;3</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/css/" title='Posts tagged "css"'>css</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/mysql/" title='Posts tagged "mysql"'>mysql</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/character set/" title='Posts tagged "character set"'>character set</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/object-oriented/" title='Posts tagged "object-oriented"'>object-oriented</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/concurrency/" title='Posts tagged "concurrency"'>concurrency</a></span>&nbsp;x&nbsp;1</li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer id="footer">
      <p class="copyright">Copyright&nbsp;&copy;&nbsp2013 - judewang - Powered by jekyll</p>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="/javascripts/generate_toc.js"></script>
    <script src="//google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script type="text/javascript">
      <!-- Add Google prettify support. -->
      $(function () {
          $("pre > code").addClass("prettyprint");
      });
      </script>
    </div>
  </body>
</html>
