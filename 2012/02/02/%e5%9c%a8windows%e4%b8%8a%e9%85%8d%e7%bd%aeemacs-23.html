<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/stylesheets/base.css" />
    <link rel="stylesheet" href="/stylesheets/screen.css" media="screen" />
    <title>在Windows上配置Emacs 23</title>
  </head>
  <body>
    <header id="header">
      <h1 id="title"><a href="/">Judewang's Thoughts</a></h1>
    </header>

    <nav id="nav">
      <ul id="menus-wrap">
        <li class="menu first"><a href="/">Archives</a></li>
        <li class="menu"><a href="/about.html">About</a></li>
      </ul>
    </nav>

    <div id="main" class="col-wrapper">
      <div id="content-wrapper" class="col-3-4">
        <div id="content">
          <article class="article">
  <header>
    <h1 class="title">在Windows上配置Emacs 23</h1>
    <div class="meta grid">
      
      <li class="thetag"><a href="/tags/Administration" title='Posts tagged"Administration"'>Administration</a></li>
      
      <li class="meta-date right">2012-02-02</span>
    </div>
  </header>
  <div id="toc-wrapper" class="is-invisible">
    <div class="toc-header">Table of Contents</div>
    <div id="toc">
    </div>
  </div>
  <div id="article-content" class="content">
    <h2>
	Emacs的配置文件
</h2>
<p>
	在Windows下，Emacs的配置文件存放在被Emacs称为HOME的目录下。默认情况下该目录是C:/Users/&lt;login name&gt;/AppData/Roaming/（Windows 7）。这个目录可以通过环境变量HOME来设置。
</p>
<h2>
	启用Emacs的服务器模式
</h2>
<p>
	Emacs有一个服务器模式，就是先启动Emacs服务器，然后每当编辑文件时启动Emacs客户端。这个客户端会与这个服务器联系，让其来完成各种编辑命令。这样就不用重新再启动另一个Emacs实例来编辑文件，不管编辑多少个文件都只要一个Emacs实例（即进程）就可以了。
</p>
<p>
	为了达到这个目的，需要做以下几步设置：
</p>
<ol>
	<li>
		在~/.emacs中加入<br />
		(server-start)<br />
		这样Emacs第一次启动时会启动服务器。
	</li>
	<li>
		设置环境变量EMACS_SERVER_FILE为“%HOME%/.emacs.d/server/server”。这是Emacs客户端与服务器用来通信的。每当服务器启动时都会建立这个文件，退出时删除这个文件。这个环境变量告诉Emacs客户端服务器建立的文件在哪里。
	</li>
</ol>
<h2>
	将Emacs加入右键菜单
</h2>
<p>
	将Emacs加入资源管理器的右键菜单可以大大方便用Emacs编辑文件。而这个可以通过编辑注册表来实现。
</p>
<p>
	在DOS命令行中用regedit命令打开注册表编辑器。在“HKEY_CLASSES_ROOT/*/Shell”下新建一名为“Edit with Emacs”（可自由命名）的项，然后在这个项下再建一个名叫“command”（必须如此命名）的项，将其值设为“&lt;emacs-install-dir&gt;/bin/emacsclientw.exe -a &lt;emacs-install-dir&gt;/bin/runemacs.exe -n %1”。这样就可以了。其中&lt;emacs-install-dir&gt;表示Emacs的安装目录。emacsclientw.exe是Emacs客户端，-a和-n都是它的选项参数，可通过emacsclientw.exe –help查看。-a表示若Emacs服务器没有启动则启动该选项的值所表示的编辑器。
</p>
<p>
	&nbsp;
</p>

  </div>
  <footer class="footer">
    
    <div class="footer-previous">
      <a href="/2011/12/12/%25e9%259a%258f%25e6%259c%25ba%25e9%2587%2587%25e6%25a0%25b7.html" title="Previous post: 随机采样">«随机采样</a>
    </div>
    
    
    <div class="footer-next">
      <a href="/2012/02/02/%25e6%259f%25a5%25e7%259c%258b%25e8%25bf%259b%25e7%25a8%258b%25e7%259a%2584%25e5%2586%2585%25e5%25ad%2598%25e4%25bd%25bf%25e7%2594%25a8%25e6%2583%2585%25e5%2586%25b5.html" title="Next post: 查看进程的内存使用情况">查看进程的内存使用情况»</a>
    </div>
    
  </footer>
</article>

        </div>
      </div>
      <div id="sidebar" class="col-1-4">
        <div class="tag-wrapper">
          <h1>Tags</h1>
          <ul class="tag-list">
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Programming/" title='Posts tagged "Programming"'>Programming</a></span>&nbsp;x&nbsp;19</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/名言警句/" title='Posts tagged "名言警句"'>名言警句</a></span>&nbsp;x&nbsp;1</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Administration/" title='Posts tagged "Administration"'>Administration</a></span>&nbsp;x&nbsp;5</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/Network/" title='Posts tagged "Network"'>Network</a></span>&nbsp;x&nbsp;3</li>
            
            <li class="tag-item"><span class="thetag"><a href="/tags/css/" title='Posts tagged "css"'>css</a></span>&nbsp;x&nbsp;2</li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer id="footer">
      <p class="copyright">Copyright&nbsp;&copy;&nbsp2013 - judewang - Powered by jekyll</p>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="/javascripts/generate_toc.js"></script>
    <script src="//google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script type="text/javascript">
      <!-- Add Google prettify support. -->
      $(function () {
          $("pre > code").addClass("prettyprint");
      });
      </script>
    </div>
  </body>
</html>
